(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[799],{5365:function(e,r,o){Promise.resolve().then(o.bind(o,9841))},9841:function(e,r,o){"use strict";o.r(r),o.d(r,{default:function(){return RoomsPage}});var s=o(7437),t=o(2265);function RoomsPage(){let[e,r]=(0,t.useState)([]),[o,a]=(0,t.useState)(!0),[l,n]=(0,t.useState)(null);(0,t.useEffect)(()=>{let fetchRooms=async()=>{try{let e=await fetch("".concat("https://werewolf-backend-pcpt.onrender.com","/rooms"));if(!e.ok)throw Error("Failed to fetch rooms");let o=await e.json();r(Array.isArray(o)?o:[])}catch(e){n(e.message||"Error fetching rooms")}finally{a(!1)}};fetchRooms()},[]);let handleRoomClick=async e=>{try{let r=await fetch("".concat("https://werewolf-backend-pcpt.onrender.com","/rooms"));if(!r.ok)throw Error("Failed to fetch room info");let o=await r.json(),s=o.find(r=>r.roomNo===e);s.users&&Array.isArray(s.users)&&s.users.length>=3?alert("This room already has more than 3 users."):alert("You can join this room.")}catch(e){alert(e.message||"Error fetching room info")}};return(0,s.jsx)("main",{className:"flex-1 bg-gradient-to-br from-blue-100 via-white to-pink-100",children:(0,s.jsxs)("section",{className:"w-full h-full border border-gray-200 bg-white shadow-xl pl-6 pb-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Rooms"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[o&&(0,s.jsx)("div",{className:"text-gray-500",children:"Loading..."}),l&&(0,s.jsx)("div",{className:"text-red-500",children:l}),!o&&!l&&0===e.length&&(0,s.jsx)("div",{className:"text-gray-500",children:"No rooms available."}),!o&&!l&&e.map((e,r)=>(0,s.jsxs)("div",{className:"p-4 border border-gray-100 rounded-lg bg-gray-50 shadow-sm h-full flex flex-col cursor-pointer hover:bg-blue-50 transition",onClick:()=>handleRoomClick(e.roomNo),children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold text-blue-900 mb-2",children:["Room ",e.roomNo]}),(0,s.jsx)("hr",{className:"my-2 border-gray-300"}),(0,s.jsx)("ul",{className:"text-gray-700 list-disc list-inside",children:e.users&&e.users.length>0?e.users.map((e,r)=>(0,s.jsx)("li",{children:e.name},r)):(0,s.jsx)("li",{className:"text-gray-400 italic",children:"No users"})})]},r))]})]})})}},622:function(e,r,o){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=o(2265),t=Symbol.for("react.element"),a=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,n=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function q(e,r,o){var s,a={},c=null,d=null;for(s in void 0!==o&&(c=""+o),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(d=r.ref),r)l.call(r,s)&&!i.hasOwnProperty(s)&&(a[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps)void 0===a[s]&&(a[s]=r[s]);return{$$typeof:t,type:e,key:c,ref:d,props:a,_owner:n.current}}r.Fragment=a,r.jsx=q,r.jsxs=q},7437:function(e,r,o){"use strict";e.exports=o(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=5365)}),_N_E=e.O()}]);